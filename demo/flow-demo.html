<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DSRT Flow Demo</title>
  <style>canvas { border: 1px solid #ccc; }</style>
</head>
<body>
  <h2>Flow & Boolean Control</h2>
  <canvas id="scene" width="600" height="400"></canvas>
  <script type="module">
    import DSRT from '../src/dsrt.js';
    const { Canvas, Bool, Flow, Graphics } = DSRT;

    Canvas.initCanvas('scene', '#fff');
    const visible = new Bool.BoolState(true);
    const flow = new Flow.Flow();

    flow.add(() => {
      Canvas.clearScreen('#fff');
      if (visible.isTrue()) {
        Graphics.Draw.drawText('STEP 1: Visible', 300, 200, 'bold 18pt Calibri', '#000', 'center');
      }
    });
    flow.add(() => visible.toggle());
    flow.add(() => {
      Canvas.clearScreen('#fff');
      if (visible.isTrue()) {
        Graphics.Draw.drawText('STEP 2: Now Visible Again', 300, 200, 'bold 18pt Calibri', '#000', 'center');
      }
    });

    flow.start();
  </script>
</body>
</html>
